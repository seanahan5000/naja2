
                PUT /COMMON/VARS
                PUT /COMMON/COMMON.EXT

                ORG $6000

TEST            JSR INIT_RANDOM
                JSR HGR

        do 0
                LDX #0
:1              LDA INSERT_TEXT,X
                STA INSERT_BUFFER,X
                INX
                CPX #8
                BNE :1

                LDX #8
                LDY #8
                JSR MOVE_TO

                LDX #<TEST_STRING
                LDY #>TEST_STRING
                JSR DRAW_TEXT

                JSR CLEAR_PAGE
        fin

                LDX #19*7
                LDY #39
                JSR MOVE_TO

                LDX #<TREE_HANGER
                LDY #>TREE_HANGER
                JSR UNPACK_TO

RIGHT_X         =   $35

                LDX #0
                LDY #2
                LDA #255
                JSR SET_TEXTBOX
                LDA #40
                STA RIGHT_X

                LDX #<THIS_IS_A_TEST
                LDY #>THIS_IS_A_TEST
                JSR WRAP_TEXTBOX

HANG            JMP HANG

TEST_STRING     USR (TEST1)-
                DB  CharLineBreak
                USR (TE)-
                DB  CharEmpty
                USR (ST2_)-
                DB  CharInsert+0
                USR (_TEST3)

INSERT_TEXT     USR (INS)-
                DB  CharEmpty
                USR (ERT)

THIS_IS_A_TEST  USR (THIS_IS_A_TEST_OF_THE_EMERGENCY_BROADCAST_SYSTEM._IN_THE_)-
                USR (EVENT_OF_AN_ACTUAL_EMERGENCY,_YOU_WOULD_BE_INSTRUCTED_)-
                USR (WHERE_TO_TUNE_FOR_UP_TO_DATE_INFORMATION._THIS_IS_ONLY_A_TEST._)-
                USR (THIS_IS_A_TEST_OF_THE_EMERGENCY_BROADCAST_SYSTEM._IN_THE_)-
                USR (EVENT_OF_AN_ACTUAL_EMERGENCY,_YOU_WOULD_BE_INSTRUCTED_)-
                USR (WHERE_TO_TUNE_FOR_UP_TO_DATE_INFORMATION._THIS_IS_ONLY_A_TEST._)-
                USR (THIS_IS_A_TEST_OF_THE_EMERGENCY_BROADCAST_SYSTEM._IN_THE_)-
                USR (EVENT_OF_AN_ACTUAL_EMERGENCY,_YOU_WOULD_BE_INSTRUCTED_)-
                USR (WHERE_TO_TUNE_FOR_UP_TO_DATE_INFORMATION._THIS_IS_ONLY_A_TEST._)-
                USR (THIS_IS_A_TEST_OF_THE_EMERGENCY_BROADCAST_SYSTEM._IN_THE_)-
                USR (WHERE_TO_TUNE_FOR_UP_TO_DATE_INFORMATION._THIS_IS_ONLY_)

TREE_HANGER     DB  $07,$1D,$14,$99
                HEX F280000078600000FEB6F200027A7A0200FEB6F200542F7F
                HEX 7800008600FEACF0830E80080A9D9FBFAAAAFFAAF8AFA880
                HEX FEA8F60091037F7F010100FEA88820890089EC00031F3E78
                HEX 7070608D40400000FE96008D058915891489101050404000
                HEX D200A10101038D070F1F7E7C706000FE8E0AA12A9528AD2A
                HEX A1288D20008800A140894444466666676F6F777736788D70
                HEX 70604060707F807A2B2F2E8D2C95388930306060408000C0
                HEX 00804095509D5454508292800099018D111151914141018D
                HEX 0505559954401C3C3E891E1FA13F913B7B756E5B7564647F
                HEX 617F7F3F3F7F7F807F7F75555575351D1D0D8D1D91358977
                HEX 565C5870970E62AD208D28912A8D3A2A910A8D22992082AC
                HEX 8000029F0F06288D29076E6E2E9127008D900004040C891C
                HEX 1C1E1E1D0D038D01010091830A8181830F3EFF7F784080A1
                HEX 80408D61415353575753535474548D55895D5589755D55A9
                HEX 15A5059582B697110E970C068054510757895D5D75545040
                HEX 009C00AD408980602060308938682B7B2B6C9710842E6A2A
                HEX 2B9711850A890E0A992A2A2E2A8D7A7F7B3A2E2B2A999710
                HEX 80B5848A802028B1209100B5028B2A9D2820000020602089
                HEX 6828286C382A2A6E2A3B6B3B6E2B3B6F3B377B3F80775F75
                HEX 775D77575D755D575D154547455189549555A9545189454D
                HEX 4F4F47058D01CD8C8A801555C95D5595548D74548D515145
                HEX 151555911514419719185D55555D5775555775555D5D5775
                HEX 5D7F775B803F7B6F7E3A6F6A7B6E2A3B2A3822890A8D2AFD
                HEX 28912089A08A8000B502910A950E0A992A8D2B2A6A2A2828
                HEX 38970F193A2A2A2B2B2A0A1B0E0A8B0B0A03030606030202
                HEX 038D81018900918040787F1F9C018D059915150545455195
                HEX 45451555A954915095409C97154980405091548955955D55
                HEX 5515891D059501A1008DB083088040783F073F7080B8800A
                HEX 2AA120BF195F9F195D9C802AB90B0A020302020000DE0081
                HEX 3F0084830580030F3880B8008005155595548E9F1A6A1515
                HEX 5554545040829C80010591A71D33FEC08303800A2A99009A
                HEX 810297207D82FEFC008055995040A4FEFE8202B71C839F19
                HEX 82208AFEFE888180959F1B69158955551588

                SAV TEST.COMMON
